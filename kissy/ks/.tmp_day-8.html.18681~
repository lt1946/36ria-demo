<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>ç¬¬å…«å¤©animåŠ¨ç”»è¯¦è§£ï¼ˆä¸‹ç¯‡ï¼‰â€?5å¤©å­¦ä¼škissy</title>
<link href="kissy/build/cssbase/base-min.css" rel="stylesheet" type="text/css" />
<link href="style/css/demo.css" rel="stylesheet" type="text/css" />
<style>
.demo-div{background-color:#0CF;border:1px solid #06F;padding:10px;width:100px;height:100px;display:block;}
</style>
</head>

<body>
<div id="header" class="clearfix">
	<div id="logo" class="l"><img src="style/images/logo.png" /></div>
	<div class="l mar-t5">
        <h2>ç¬¬å…«å¤©animåŠ¨ç”»è¯¦è§£ï¼ˆä¸‹ç¯‡ï¼‰â€?5å¤©å­¦ä¼škissy</h2>
      <p>ä½œè?ï¼šæ˜æ²³å…±å½±ï¼Œåšå®¢ï¼?a href="http://www.36ria.com/">RIAä¹‹å®¶</a></p>
        <p>æ–‡ç« é“¾æ¥ï¼?a href="http://www.36ria.com/3418"> http://www.36ria.com/3418 </a></p>    
    </div>
</div>
<div id="content" class="w950 mar-t10">
<h4>æ‹†åˆèœå•</h4>
    <ul id="menu" class="mar-t-10">	
        <li class="menu-item">
            <div><a href="http://www.36ria.com/?cat=1" onclick="return false;">jquery</a></div>
            <ul>
                <li><a href="http://www.36ria.com/?cat=7" target="_blank">jqueryæ’ä»¶</a></li>
                <li><a href="http://www.36ria.com/?cat=6" target="_blank">jqueryæ•™ç¨‹</a></li>
                <li><a href="http://www.36ria.com/?cat=105" target="_blank">jqueryä¸ajax</a></li>                            
            </ul>
        </li>
        <li class="menu-item">
            <div><a href="http://www.36ria.com/?cat=11" onclick="return false;">flex</a></div>
            <ul>
                <li><a href="http://www.36ria.com/?cat=101" target="_blank">flexå®ä¾‹</a></li>
                <li><a href="http://www.36ria.com/?cat=113" target="_blank">flexæ•™ç¨‹</a></li>                          
            </ul>                            
        </li> 
        <li class="menu-item">
            <div><a href="http://www.36ria.com/?cat=3" onclick="return false;">javascript</a></div>
            <ul>
                <li><a href="http://www.36ria.com/?cat=116" target="_blank">javascriptèµ„æº</a></li>
                <li><a href="http://www.36ria.com/?cat=4" target="_blank">javascriptæ•™ç¨‹</a></li>
                <li><a href="http://www.36ria.com/?cat=9" target="_blank">æµè§ˆå™?/a></li>                            
            </ul>                             
        </li>                                                                                                                       
    </ul>
	<p>ï¼ˆæ‹†åˆèœå•çš„htmlä»£ç ä¸å†è´´å‡ºã€‚ï¼‰	 </p>
	<p> åœ¨ä¸Šä¸?¯‡çš„æ•™ç¨‹ä¸­ï¼Œæ˜æ²³æ›¾è¯´åˆ°ç»™æ‹†åˆèœå•åŠ åŠ¨ç”»ï¼Œç°åœ¨æ¥çœ‹å®Œæ•´ä»£ç ï¼š </p>
	<pre class="prettyprint">
(function(S){
	S.use('core',function(){
		var Event = S.Event,DOM = S.DOM,h;		
        //kissyçš„height\widthæ–¹æ³•ï¼Œå½“å…ƒç´ çš„display:noneæ—¶ï¼Œè·å–çš„é«˜åº¦\é«˜åº¦ä¸ºè´Ÿæ•°ï¼ŒæœŸå¾…æ–°çš„ç‰ˆæœ¬å¯ä»¥ä¿®æ­£è¿™ä¸ªé—®é¢˜				
		function height($el){
			var h = 0,display = $el.css('display'),position = $el.css('position'),visibility = $el.css('hidden');
			if($el.css('display') == 'none'){
				//TODO:kissyçš„css()å­˜åœ¨bugï¼Œä¸è¿”å›KISSY.Nodeï¼Œå¯¼è‡´æ–­é“?
				$el.css({'display':'block','position':'absolute','visibility':'hidden'});
				h = $el.height();
				$el.css({'display':'none','position':position,'visibility':visibility});
			}else{
				h = $el.height();
			}
			return h;	
		}
		//è·å–èœå•å…ƒç´ 
		var $menu = S.one('#menu');
		//TODO:ç»™å˜é‡åŠ $ï¼Œæ˜¯æ˜æ²³å†™jqueryæ—¶ä¿ç•™ä¸‹çš„ä¹ æƒ¯ï¼Œç”¨åŠ $çš„å˜é‡è¡¨ç¤ºå¾…æ“ä½œçš„å…ƒç´ ï¼Œåœ¨kissyä¸­åªæœ‰æ–¹æ³•è¿”å›çš„æ˜¯Nodeæˆ–NodeListå®ä¾‹ï¼ˆæ¯”å¦‚oneã€allï¼‰æ—¶ï¼Œæ‰åŠ?å‰ç¼€
		
		//å­èœå?
		var $childrenMenus = S.all('#menu ul');
		//éšè—æ‰?œ‰å­èœå?
		$childrenMenus.hide();
		var $menuItemHeader = S.all("#menu div");
		

		$menuItemHeader.on('click',function(ev){
			//ç»™å­èœå•æ ‡é¢˜ï¼Œåˆ é™¤ç®­å¤´æ ·å¼?
			S.all('#menu .arrow-down').removeClass('arrow-down');			
			var $menu = S.one(ev.target).next(),$arrow = S.one(ev.target).children(),
			    display = $menu.css('display');	

			//æ ¹æ®å­èœå•çš„æ˜¾ç¤ºæƒ…å†µæ¥åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºå­èœå•ï¼ŒåŒæ—¶æ”¹å˜ç®­å¤´æ–¹å?
			if(display == 'none'){
				h = height($menu);
				$menu.css({height: 0,display: 'block',overflow:'hidden'});
				//TODO:ä¸åŠ ç¼“åŠ¨å’ŒåŠ ç¼“åŠ¨ï¼Œé?åº¦å·®å¼‚æ˜æ˜?
				$menu.animate({'height':h+'px'},1,'elasticOut');
				$arrow.addClass('arrow-down');
			}else{
				h = $menu.height();
				$menu.animate('height:0',0.3,S.Easing.easeNone,function(){
					$menu.hide().height(h);
				});							
				$arrow.removeClass('arrow-down');
			}			
			return false;		
		})
																																																		
	});	
})(KISSY);
    </pre>
    
	<p>kissyçš„åŠ¨ç”»ç±»å­˜åœ¨ä¸?º›é—®é¢˜ï¼è°ƒç”¨èµ·æ¥ä¸æ˜¯éå¸¸é¡ºæ‰‹ï¼Œè¿™æ˜¯ä¸ªä¸å°‘çš„é—®é¢˜ã€?/p>
	<h4>ä»£ç ä¸­height()å‡½æ•°è¯´æ˜</h4>
  <pre class="prettyprint">
        //kissyçš„height\widthæ–¹æ³•ï¼Œå½“å…ƒç´ çš„display:noneæ—¶ï¼Œè·å–çš„é«˜åº¦\é«˜åº¦ä¸ºè´Ÿæ•°ï¼ŒæœŸå¾…æ–°çš„ç‰ˆæœ¬å¯ä»¥ä¿®æ­£è¿™ä¸ªé—®é¢˜				
		function height($el){
			var h = 0,display = $el.css('display'),position = $el.css('position'),visibility = $el.css('hidden');
			if($el.css('display') == 'none'){
				//TODO:kissyçš„css()å­˜åœ¨bugï¼Œä¸è¿”å›KISSY.Nodeï¼Œå¯¼è‡´æ–­é“?
				$el.css({'display':'block','position':'absolute','visibility':'hidden'});
				h = $el.height();
				$el.css({'display':'none','position':position,'visibility':visibility});
			}else{
				h = $el.height();
			}
			return h;	
		}
    </pre>    
  <p>ä¸ºä»€ä¹ˆè¦åŠ è¿™ä¸ªå‡½æ•°ï¼Ÿ</p>
  <p>å› ä¸ºkissy<span class="prettyprint">çš„height\widthæ–¹æ³•ï¼Œå½“å…ƒç´ çš„display:noneæ—¶ï¼Œè·å–çš„é«˜åº¦\é«˜åº¦ä¸ºè´Ÿæ•?/span>ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥æµ‹è¯•ä¸‹ã€‚è?æ‹†åˆèœå•çš„å­èœå•é»˜è®¤æ˜¯ä¸æ˜¾ç¤ºäº†ï¼Œæ²¡åŠæ³•æ˜æ²³åªå¥½ä¸´æ—¶å†™äº†è¿™ä¸ªå‡½æ•°åº”æ€¥ä¸‹ã€?/p>
  <h4> <a href="anim-node-plugin.html">anim-node-plugin</a>æ¨¡å—å­˜åœ¨bugï¼?/h4>
  <p>å½“è°ƒç”¨showã€hideã€slideDownã€slideUpã€toggleæ—¶æœ‰æ—¶ä¼šæŠ¥é”™ï¼Œæ›´å…³é”®ä¸Šå†™æ³•ä¸Šæœ‰ç¼ºé™·ï¼Œå½“å…ƒç´ æ²¡æœ‰è®¾ç½®é«˜åº¦æ—¶ï¼Œä½œè€…ä¸ºäº†åŠ¨ç”»å¤„ç†æ–¹ä¾¿ï¼Œä½¿ç”¨height:auto/width:autoï¼è?ä¸æ˜¯å»è·å–å…ƒç´ çš„çœŸå®é«˜åº¦ï¼Œå½“heightã€widthè¢«è®¾ç½®æˆautoï¼Œä¸å¯é¿å…å­˜åœ¨ä¸€äº›é£é™©ï¼Œæœ‰å…´è¶£çš„æœ‹å‹å¯ä»¥æŠŠä»£ç ä¸­çš„åŠ¨ç”»éƒ¨åˆ†æ”¹æˆslideDownã€slideUpæˆ–toggleè¯•ä¸‹ã€‚è¿™æ–¹é¢çš„é—®é¢˜ï¼Œæ˜æ²³æ—¥åä¼šä¸“é—¨å†™ç¯‡æ–‡ç« ä»‹ç»ã?</p>
  <p>å°½ç®¡anim-node-pluginå­˜åœ¨é—®é¢˜ï¼Œæ˜æ²³è¿˜æ˜¯ä»‹ç»ä¸‹å‡ ä¸ªå¸¸ç”¨æ–¹æ³•ã€?/p>
  <h4>1ã€? animateæ–¹æ³•</h4>
  <p>è¿™æ˜¯é¢‡ä¸ºå¸¸ç”¨çš„æ–¹æ³•ï¼Œå¯¹åº”KISSY.  Animï¼Œæ‰€ä»?KISSY.  Animçš„å‡ ä¸ªå‚æ•? animateæ–¹æ³•éƒ½æœ‰ï¼Œæ¯”å¦? åŠ¨ç”»å±æ?ã€? åŠ¨ç”»æ—¶é•¿ ã€ç¼“åŠ¨å‡½æ•°ã?å›è°ƒå‡½æ•°ã€?/p>
  <p>å†™æ³•ä¸¾ä¾‹ï¼ˆå¯ä»¥çœ‹æ‹†åˆèœå•éƒ¨åˆ†ä»£ç ï¼?</p>
<pre class="prettyprint">
h = $menu.height();
$menu.animate('height:0',0.3,S.Easing.easeNone,function(){
    $menu.hide().height(h);
});	
 </pre>
  <h4>2ã€? show/hideæ–¹æ³•</h4>
  <p><input type="button" value="æ˜¾ç¤º\éšè—ä¸‹é¢çš„å±‚" id="demo-1" /></p>
  <div class="demo-div" id="demo-1-div" style="display:none;"></div>
  <pre class="prettyprint">
Event.on('#demo-1','click',function(evt){
    var $div = S.one("#demo-1-div");
    $div.show(0.5);
    //ä½¿ç”¨hideçš„æ–¹æ³•ç›´æ¥æŠ¥é”?
    /*
    if($div.css("display") == 'block'){
        $div.hide(0.5);
    }else{
        $div.show(0.5);
    }
    */
    
})	
    </pre>
  <p>ç”±äºä½¿ç”¨hideçš„æ–¹æ³•ä¼šæŠ¥é”™ï¼Œæ˜æ²³æ³¨é‡Šæ‰äº†éšè—ä»£ç ?</p>
  <h4>2ã€fadeIn/fadeOutæ–¹æ³•</h4>
  <p>å¸¸è§çš„æ·¡å…¥æ·¡å‡ºæ•ˆæ?/p>
  <p><input type="button" value="æ·¡å…¥\æ·¡å‡ºä¸‹é¢çš„å±‚" id="demo-2" /></p>
  <div class="demo-div" id="demo-2-div" style="display:none;"></div>
  <pre class="prettyprint">
Event.on('#demo-2','click',function(evt){
    var $div = S.one("#demo-2-div");
    $div.css({'opacity':'0'})
    //ä½¿ç”¨hideçš„æ–¹æ³•ç›´æ¥æŠ¥é”?
    if($div.css("display") == 'none'){
        $div.fadeIn(0.5,function(){
            $div.css({'display':'block'});
        });
    }else{
        $div.fadeOut(0.5,function(){
            $div.css({'display':'none'});
        });
    }
})
    </pre>
    <p>å¤šç‚¹å‡»å‡ ä¸‹ï¼Œä½ å°±ä¼šå‘ç°ï¼Œå®¹å™¨çš„å®½åº¦å’Œé«˜åº¦è«åå…¶å¦™ä¸¢äº†ï¼ŒåŸæ¥æ˜¯å‡½æ•°å°†height\widthè®¾ç½®æˆäº†auto.......... </p>
    <p>è€Œä¸”fadeOutè¿˜æ˜¯æ— æ•ˆçš?....</p>
  <h4>3ã€slideDown/slideUp/toggleæ–¹æ³•</h4>
    
    <p>ç”±äºéƒ½å­˜åœ¨fadeOutç±»ä¼¼çš„é—®é¢˜ï¼Œè¿™é‡Œæ˜æ²³ä¸å†ç´¯è¿°ï¼Œå› ä¸ºæ„ä¹‰å®åœ¨ä¸å¤§ï¼Œç›®å‰çš„è¿™å‡ ä¸ªæ–¹æ³•ï¼Œæ˜æ²³ä¸æ¨èä½¿ç”¨ã€?/p>
  <p>&nbsp;</p>
  <h4>4ã€æ˜æ²³ç»“è¯?/h4>
 kissyçš„anim-node-pluginæ¨¡å—çš„bugæ— ç–‘è®©äººå¾ˆæ²®ä¸§ï¼Œå…¶ä»–ä¸‹ä¸€ä¸ªç‰ˆæœ¬æœ‰ä¸ªæ›´å¥½çš„anim-node-pluginæ¨¡å—ã€?
</div>
<script src="kissy/build/seed.js"></script>
<script>
(function(S){
	S.use('core',function(){
		var Event = S.Event,DOM = S.DOM,h;		
        //kissyçš„height\widthæ–¹æ³•ï¼Œå½“å…ƒç´ çš„display:noneæ—¶ï¼Œè·å–çš„é«˜åº¦\é«˜åº¦ä¸ºè´Ÿæ•°ï¼ŒæœŸå¾…æ–°çš„ç‰ˆæœ¬å¯ä»¥ä¿®æ­£è¿™ä¸ªé—®é¢˜				
		function height($el){
			var h = 0,display = $el.css('display'),position = $el.css('position'),visibility = $el.css('hidden');
			if($el.css('display') == 'none'){
				//TODO:kissyçš„css()å­˜åœ¨bugï¼Œä¸è¿”å›KISSY.Nodeï¼Œå¯¼è‡´æ–­é“?
				$el.css({'display':'block','position':'absolute','visibility':'hidden'});
				h = $el.height();
				$el.css({'display':'none','position':position,'visibility':visibility});
			}else{
				h = $el.height();
			}
			return h;	
		}
		//è·å–èœå•å…ƒç´ 
		var $menu = S.one('#menu');
		//TODO:ç»™å˜é‡åŠ $ï¼Œæ˜¯æ˜æ²³å†™jqueryæ—¶ä¿ç•™ä¸‹çš„ä¹ æƒ¯ï¼Œç”¨åŠ $çš„å˜é‡è¡¨ç¤ºå¾…æ“ä½œçš„å…ƒç´ ï¼Œåœ¨kissyä¸­åªæœ‰æ–¹æ³•è¿”å›çš„æ˜¯Nodeæˆ–NodeListå®ä¾‹ï¼ˆæ¯”å¦‚oneã€allï¼‰æ—¶ï¼Œæ‰åŠ?å‰ç¼€
		
		//å­èœå?
		var $childrenMenus = S.all('#menu ul');
		//éšè—æ‰?œ‰å­èœå?
		$childrenMenus.hide();
		var $menuItemHeader = S.all("#menu div");
		

		$menuItemHeader.on('click',function(ev){
			//ç»™å­èœå•æ ‡é¢˜ï¼Œåˆ é™¤ç®­å¤´æ ·å¼?
			S.all('#menu .arrow-down').removeClass('arrow-down');			
			var $menu = S.one(ev.target).next(),$arrow = S.one(ev.target).children(),
			    display = $menu.css('display');	

			//æ ¹æ®å­èœå•çš„æ˜¾ç¤ºæƒ…å†µæ¥åˆ¤æ–­æ˜¯å¦æ˜¾ç¤ºå­èœå•ï¼ŒåŒæ—¶æ”¹å˜ç®­å¤´æ–¹å?
			if(display == 'none'){
				h = height($menu);
				$menu.css({height: 0,display: 'block',overflow:'hidden'});
				//TODO:ä¸åŠ ç¼“åŠ¨å’ŒåŠ ç¼“åŠ¨ï¼Œé?åº¦å·®å¼‚æ˜æ˜?
				$menu.animate({'height':h+'px'},1,'elasticOut');
				$arrow.addClass('arrow-down');
			}else{
				h = $menu.height();
				$menu.animate('height:0',0.3,S.Easing.easeNone,function(){
					$menu.hide().height(h);
				});							
				$arrow.removeClass('arrow-down');
			}			
			return false;		
		})
		
		Event.on('#demo-1','click',function(evt){
			var $div = S.one("#demo-1-div");
			$div.show(0.5);
			//ä½¿ç”¨hideçš„æ–¹æ³•ç›´æ¥æŠ¥é”?
			/*
			if($div.css("display") == 'block'){
				$div.hide(0.5);
			}else{
				$div.show(0.5);
			}
			*/
			
		})
		Event.on('#demo-2','click',function(evt){
			var $div = S.one("#demo-2-div");
			$div.css({'opacity':'0'})
			//ä½¿ç”¨hideçš„æ–¹æ³•ç›´æ¥æŠ¥é”?
			if($div.css("display") == 'none'){
				$div.fadeIn(0.5,function(){
					$div.css({'display':'block'});
				});
			}else{
				$div.fadeOut(0.5,function(){
					$div.css({'display':'none'});
				});
			}
		})																																																					
	});	
})(KISSY);
</script>
<!--ä¸ºäº†è®©ä»£ç æ›´æ˜“è¯»ï¼Œè¿™é‡Œæ˜æ²³å¼•å…¥prettifyä»£ç é«˜äº®-->
<link href="http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.css" type="text/css" rel="stylesheet" />
<script type="text/javascript" src="http://google-code-prettify.googlecode.com/svn/trunk/src/prettify.js"></script>
<script>
prettyPrint();
</script>
</body>
</html>
